<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEO CARE</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PWA Manifest Link -->
    <link rel="manifest" id="manifest-link">
    <meta name="theme-color" content="#3b82f6">

    <script>
        // Dynamically generate the manifest file to keep everything in one HTML file
        const manifest = {
            "name": "NEO CARE",
            "short_name": "NEO CARE",
            "description": "ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุฑุถู ูู ุงููุณุชุดููุงุช.",
            "start_url": ".",
            "display": "standalone",
            "background_color": "#f0f9ff",
            "theme_color": "#3b82f6",
            "icons": [
                {
                    "src": "https://placehold.co/192x192/3b82f6/ffffff?text=N",
                    "type": "image/png",
                    "sizes": "192x192"
                },
                {
                    "src": "https://placehold.co/512x512/3b82f6/ffffff?text=N",
                    "type": "image/png",
                    "sizes": "512x512"
                }
            ]
        };
        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestUrl = URL.createObjectURL(manifestBlob);
        document.getElementById('manifest-link').href = manifestUrl;
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
        body {
            font-family: 'Cairo', sans-serif;
        }
        .tab-btn {
            @apply px-4 py-2 rounded-lg text-gray-600 font-semibold transition-all duration-300 hover:text-blue-600 hover:bg-blue-50;
        }
        .tab-btn.active {
            @apply text-blue-600 bg-blue-100;
        }
        .alert-bar {
            @apply fixed top-4 left-1/2 -translate-x-1/2 bg-red-600 text-white p-4 rounded-lg shadow-xl font-bold transition-all duration-300 transform scale-100 opacity-100 z-[101];
        }
        .alert-bar.hidden {
            @apply scale-95 opacity-0 pointer-events-none;
        }
        /* Custom styles for tables */
        .dashboard-table {
            @apply w-full border-collapse text-center;
        }
        .dashboard-table th, .dashboard-table td {
            @apply p-3 border border-gray-200;
        }
        .dashboard-table th {
            @apply bg-gray-100 font-bold text-gray-700;
        }
        .dashboard-table tbody tr:nth-child(even) {
            @apply bg-gray-50;
        }

        /* Animation Keyframes */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-scaleIn {
            animation: scaleIn 0.3s ease-out forwards;
        }

        /* For loading buttons */
        @keyframes pulse {
            50% { opacity: .7; }
        }
        .animate-pulse-fast {
            animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body id="PeP.html" class="bg-gradient-to-r from-blue-50 to-blue-100 min-h-screen">

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-gray-900 bg-opacity-75 transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full">
            <h3 id="login-title" class="text-2xl font-bold text-center text-blue-700 mb-6">ุชุณุฌูู ุงูุฏุฎูู</h3>
            <input type="hidden" id="login-role">
            <div class="space-y-4">
                <input id="login-id" placeholder="ุงููุนุฑู (ID)" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-right transition-all duration-300">
                <input id="login-password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-right transition-all duration-300">
                <button id="login-btn" class="w-full bg-blue-600 text-white px-4 py-3 rounded-lg shadow hover:bg-blue-700 transition-all duration-300">
                    ุฏุฎูู
                </button>
                <button onclick="document.getElementById('login-modal').classList.add('hidden')" class="w-full text-center text-gray-500 hover:text-gray-700 transition-all duration-300">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="bg-white shadow sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center flex-wrap">
            <div class="flex items-center space-x-3">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#3b82f6"></stop>
                            <stop offset="100%" stop-color="#14b8a6"></stop>
                        </linearGradient>
                    </defs>
                    <path d="M12 2L4 5v6.09c0 4.97 3.58 9.36 8 10.91 4.42-1.55 8-5.94 8-10.91V5l-8-3z" fill="url(#logoGradient)"></path>
                    <path d="M8 12h2l1-2 2 4 1-2h2" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <span class="font-black text-2xl text-blue-700 tracking-wide">NEO CARE</span>
            </div>
            <div class="space-x-2 hidden md:flex items-center">
                <button id="Main" onclick="window.showTab('home', this)" class="tab-btn active">๐ ุงูุฑุฆูุณูุฉ</button>
                <button id="Reception" onclick="window.navigateToTab('reception', this)" class="tab-btn">๐ ุงูุงุณุชูุจุงู</button>
                <button id="Doctor" onclick="window.navigateToTab('doctor', this)" class="tab-btn">๐ฉบ ุงูุทุจูุจ</button>
                <button id="Doctor-File" onclick="window.showTab('doctorFile', this)" class="tab-btn">๐ ููู ุงูุทุจูุจ</button>
                <button id="Pharmacy" onclick="window.navigateToTab('pharmacy', this)" class="tab-btn">๐ ุงูุตูุฏููุฉ</button>
                <button id="Radiology" onclick="window.navigateToTab('radiology', this)" class="tab-btn">๐ฌ ุงูุฃุดุนุฉ</button>
                <button id="Appointments" onclick="window.navigateToTab('appointments', this)" class="tab-btn">๐ ุงูููุงุนูุฏ</button>
                <button id="Billing" onclick="window.navigateToTab('billing', this)" class="tab-btn">๐ณ ุงูููุงุชูุฑ ูุงูุชุฃููู</button>
                <button id="patient" onclick="window.navigateToTab('patient', this)" class="tab-btn">๐ค ุงููุฑูุถ</button>
                <button id="Doctor-On_call" onclick="window.navigateToTab('doctorOnCall', this)" class="tab-btn">๐จโโ๏ธ ุฏูุชูุฑ ูู ุฌูุจู</button>
                <button id="Ai" onclick="window.navigateToTab('ai', this)" class="tab-btn">๐ค ุงูุฐูุงุก ุงูุงุตุทูุงุนู</button>
                <button id="Dashboard" onclick="window.navigateToTab('dashboard', this)" class="tab-btn">๐ ููุญุฉ ุงูุชุญูู</button>
                <button id="Wait-Times" onclick="window.showTab('waitTimes', this)" class="tab-btn">๐ ุฃููุงุช ุงูุงูุชุธุงุฑ</button>
                <button id="install-pwa-btn" class="hidden bg-green-500 text-white px-3 py-1 rounded-lg text-sm shadow-sm hover:bg-green-600 transition-all duration-300">๐ป ุชุซุจูุช ุงูุชุทุจูู</button>
                <button id="logout-btn" onclick="window.logout(), LogoutSystem()" class="hidden text-red-500 border border-red-500 px-3 py-1 rounded-lg text-sm shadow-sm hover:bg-red-500 hover:text-white transition-all duration-300">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </div>
            <div class="flex-grow md:flex-grow-0 mt-2 md:mt-0 text-gray-500 text-sm md:text-right w-full md:w-auto hidden">
                <p class="truncate"><span id="user-id" class="font-mono text-gray-700">...</span></p>
            </div>
        </div>
    </nav>

    <div class="max-w-6xl mx-auto p-6">

        <!-- Custom Message Modal -->
        <div id="message-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 transition-opacity duration-300" onclick="this.classList.add('hidden')">
            <div class="bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full" onclick="event.stopPropagation()">
                <div id="message-icon" class="text-4xl mb-4 text-center"></div>
                <p id="message-text" class="text-center text-lg font-semibold"></p>
                <button onclick="document.getElementById('message-modal').classList.add('hidden')" class="mt-4 w-full bg-blue-600 text-white rounded-lg px-4 py-2 transition-all duration-300 hover:bg-blue-700">ููุงูู</button>
            </div>
        </div>

        <!-- Critical Alert Bar -->
        <div id="critical-alert-bar" class="alert-bar hidden">
            <p>๐ด ุชูุจูู: ุญุงูุฉ ุญุฑุฌุฉ!
            <br>
            <span id="alert-details"></span>
            </p>
        </div>

        <!-- Home -->
        <section id="home" class="tab">
            <div class="flex flex-col items-center justify-center text-center space-y-6 py-20">
                 <svg width="96" height="96" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="shadow-lg rounded-full">
                    <defs>
                        <linearGradient id="logoGradientHome" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#3b82f6"></stop>
                            <stop offset="100%" stop-color="#14b8a6"></stop>
                        </linearGradient>
                    </defs>
                    <path d="M12 2L4 5v6.09c0 4.97 3.58 9.36 8 10.91 4.42-1.55 8-5.94 8-10.91V5l-8-3z" fill="url(#logoGradientHome)"></path>
                    <path d="M8 12h2l1-2 2 4 1-2h2" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <h1 class="text-5xl font-black text-blue-700 animate-fadeIn tracking-wide" style="animation-delay: 100ms;">NEO CARE</h1>
                <p class="text-lg text-gray-600 max-w-xl animate-fadeIn" style="animation-delay: 200ms;">ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุฑุถู ูู ุงููุณุชุดููุงุช.</p>
                <button onclick="window.navigateToTab('reception', document.querySelector('.tab-btn:nth-child(2)'))" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-lg shadow transition-all duration-300 animate-fadeIn" style="animation-delay: 300ms;">
                    ๐ ุงุจุฏุฃ ุงูุขู
                </button>

                <!-- New navigation section --><div class="mt-16 w-full max-w-5xl">

    <!-- ูุงุฑุช ุฏูุชูุฑ ูู ุฌูุจู -->
    <div onclick="window.navigateToTab('doctorOnCall', document.querySelector('.tab-btn:nth-child(10)'))" 
         class="group bg-gradient-to-br from-teal-400 to-blue-500 text-white p-8 rounded-2xl shadow-lg 
                hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 cursor-pointer text-center 
                animate-fadeIn flex flex-col items-center justify-center mb-8" 
         style="animation-delay: 400ms;">
        <div class="text-6xl mb-4">๐จโโ๏ธ</div>
        <h3 class="text-4xl font-extrabold">ุฏูุชูุฑ ูู ุฌูุจู</h3>
    </div>

    <!-- ูุงุฑุช Doctor Friend -->
    <div onclick="window.location.href='doctor-friend.html'" 
         class="group bg-gradient-to-br from-blue-400 to-purple-500 text-white p-8 rounded-2xl shadow-lg 
                hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 cursor-pointer text-center 
                animate-fadeIn flex flex-col items-center justify-center mb-8" 
         style="animation-delay: 450ms;">
        <div class="text-6xl mb-4">๐ซฑ๐ปโ๐ซฒ๐ผ</div>
        <h3 class="text-4xl font-extrabold">DOCTOR FRIEND</h3>
        <p class="text-lg mt-2 text-white/80">ููุง ูุฎุฏูุฉ ุงูุฃุทุจุงุก</p>
    </div>

    <!-- ุจุงูู ุงููุฑูุช (ุงูุงุณุชูุจุงูุ ุงูุทุจูุจุ ุงููุฑูุถ..) -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Reception Card -->
        <div onclick="window.navigateToTab('reception', document.querySelector('.tab-btn:nth-child(2)'))" 
             class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-2 
                    transition-all duration-300 cursor-pointer text-center animate-fadeIn" 
             style="animation-delay: 500ms;">
            <div class="text-4xl text-blue-500 mb-4">๐</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">ุงูุงุณุชูุจุงู</h3>
            <p class="text-gray-500 mb-4">ุชุณุฌูู ุงููุฑุถู ุงูุฌุฏุฏ ูุชุญุฏูุซ ุจูุงูุงุชูู.</p>
            <span class="font-semibold text-blue-600 group-hover:underline">ุงุฐูุจ ูููุณู &larr;</span>
        </div>

        <!-- Doctor Card -->
        <div onclick="window.navigateToTab('doctor', document.querySelector('.tab-btn:nth-child(3)'))" 
             class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-2 
                    transition-all duration-300 cursor-pointer text-center animate-fadeIn" 
             style="animation-delay: 600ms;">
            <div class="text-4xl text-green-500 mb-4">๐ฉบ</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">ุงูุทุจูุจ</h3>
            <p class="text-gray-500 mb-4">ูุชุงุจุนุฉ ุญุงูุงุช ุงููุฑุถู ูุฅุถุงูุฉ ุงูุชุดุฎูุตุงุช.</p>
            <span class="font-semibold text-green-600 group-hover:underline">ุงุฐูุจ ูููุณู &larr;</span>
        </div>

        <!-- Patient Card -->
        <div onclick="window.navigateToTab('patient', document.querySelector('.tab-btn:nth-child(9)'))" 
             class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-2 
                    transition-all duration-300 cursor-pointer text-center animate-fadeIn" 
             style="animation-delay: 700ms;">
            <div class="text-4xl text-teal-500 mb-4">๐ค</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">ุงููุฑูุถ</h3>
            <p class="text-gray-500 mb-4">ุนุฑุถ ุจูุงูุงุชู ุงูุทุจูุฉ ูุชููู ุงูุชุนูููุงุช.</p>
            <span class="font-semibold text-teal-600 group-hover:underline">ุงุฐูุจ ูููุณู &larr;</span>
        </div>
    </div>
</div>
                         <!-- Wait Times Card -->
                        <div onclick="window.showTab('waitTimes', document.querySelector('.tab-btn:nth-child(13)'))" class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer text-center animate-fadeIn" style="animation-delay: 800ms;">
                            <div class="text-4xl text-orange-500 mb-4">๐</div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">ุฃููุงุช ุงูุงูุชุธุงุฑ</h3>
                            <p class="text-gray-500 mb-4">ุนุฑุถ ุญู ูุชูููู ุงูุงุฒุฏุญุงู ูุชุญุณูู ุงูุชุฌุฑุจุฉ.</p>
                            <span class="font-semibold text-orange-600 group-hover:underline">ุงุฐูุจ ูููุณู &larr;</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reception -->
        <section id="reception" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ุงูุงุณุชูุจุงู</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="r_name" placeholder="ุงุณู ุงููุฑูุถ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <input id="r_age" placeholder="ุงูุณู" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300" type="number">
                <input id="r_room" placeholder="ุฑูู ุงูุบุฑูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <textarea id="r_disease" placeholder="ุงูุฃูุฑุงุถ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"></textarea>
                <textarea id="r_oldmeds" placeholder="ุงูุฃุฏููุฉ ุงูุณุงุจูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"></textarea>
                <select id="r_type" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                    <option value="">ุงุฎุชุฑ ููุน ุงูุญุงูุฉ</option>
                    <option value="Internal Medicine">ุงูุจุงุทูุฉ (Internal Medicine)</option>
                    <option value="Surgery">ุงูุฌุฑุงุญุฉ (Surgery)</option>
                    <option value="Obstetrics & Gynecology">ุงููุณุงุก ูุงูููุงุฏุฉ (Obstetrics & Gynecology)</option>
                    <option value="Pediatrics">ุงูุฃุทูุงู (Pediatrics)</option>
                    <option value="Emergency & Trauma">ุงูุทูุงุฑุฆ ูุงูุฅุณุนุงู (Emergency & Trauma)</option>
                    <option value="Radiology & Imaging">ุงูุฃุดุนุฉ ูุงูุชุตููุฑ (Radiology & Imaging)</option>
                    <option value="Laboratory">ุงููุฎุชุจุฑุงุช ูุงูุชุญุงููู (Laboratory)</option>
                    <option value="ICU / Critical Care">ุงูุนูุงูุฉ ุงููุฑูุฒุฉ (ICU / Critical Care)</option>
                    <option value="Anesthesia">ุงูุชุฎุฏูุฑ (Anesthesia)</option>
                    <option value="Ophthalmology">ุงูุนููู (Ophthalmology)</option>
                    <option value="ENT">ุงูุฃูู ูุงูุฃุฐู ูุงูุญูุฌุฑุฉ (ENT)</option>
                    <option value="Dental">ุงูุฃุณูุงู (Dental)</option>
                </select>
                <!-- AI feature: Doctor Suggestion -->
                <button id="r_suggest_doctor_btn" class="w-full bg-blue-500 text-white px-4 py-3 rounded-lg shadow hover:bg-blue-600 transition-all duration-300">
                    โจ ุงูุชุฑุงุญ ุทุจูุจ ููุงุณุจ
                </button>
                <div id="r_doctor_suggestion" class="mt-2 p-4 bg-blue-50 border-r-4 border-blue-500 rounded-lg hidden">
                    <p class="font-bold text-blue-700">ููุชุฑุญ ุงูุทุจูุจ:</p>
                    <p id="r_doctor_suggestion_text" class="mt-2 text-gray-800"></p>
                </div>
                <button id="r_saveBtn" class="w-full bg-blue-600 text-white px-4 py-3 rounded-lg shadow hover:bg-blue-700 transition-all duration-300">
                    ๐พ ุญูุธ ุงููุฑูุถ
                </button>
            </div>
        </section>

        <!-- Doctor -->
        <section id="doctor" class="tab hidden">
            <h2 id="doctor-welcome-message" class="text-2xl font-bold text-blue-700 mb-4">๐ฉบ ุงูุทุจูุจ</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="d_room" placeholder="ุฃุฏุฎู ุฑูู ุงูุบุฑูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <button id="d_loadBtn" class="w-full bg-green-600 text-white px-4 py-3 rounded-lg shadow hover:bg-green-700 transition-all duration-300">
                    ๐ ุนุฑุถ ุจูุงูุงุช ุงููุฑูุถ
                </button>
                <div id="d_result" class="hidden mt-4 space-y-2">
                    <p><strong>ุงูุงุณู:</strong> <span id="d_name"></span></p>
                    <p><strong>ุงูุณู:</strong> <span id="d_age"></span></p>
                    <p><strong>ุงูุฃูุฑุงุถ:</strong> <span id="d_disease"></span></p>
                    <p><strong>ุงูุฃุฏููุฉ ุงูุณุงุจูุฉ:</strong> <span id="d_oldmeds"></span></p>
                    <p><strong>ููุน ุงูุญุงูุฉ:</strong> <span id="d_type"></span></p>
                    <textarea id="d_diag" placeholder="ุงูุชุดุฎูุต" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"></textarea>
                    <textarea id="d_newmeds" placeholder="ุงูุฃุฏููุฉ ุงูุฌุฏูุฏุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"></textarea>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                        <button id="d_suggest_diag_btn" class="w-full bg-purple-600 text-white px-4 py-3 rounded-lg shadow hover:bg-purple-700 transition-all duration-300">
                            โจ ูุณุงุนุฏ ุงูุชุดุฎูุต
                        </button>
                        <button id="d_check_interactions_btn" class="w-full bg-red-600 text-white px-4 py-3 rounded-lg shadow hover:bg-red-700 transition-all duration-300">
                            โจ ูุญุต ุงูุชูุงุนูุงุช ุงูุฏูุฆูุฉ
                        </button>
                        <button id="d_sendPatientBtn" class="w-full bg-blue-600 text-white px-4 py-3 rounded-lg shadow hover:bg-blue-700 transition-all duration-300">
                            ๐พ ุญูุธ ูุฅุฑุณุงู ูููุฑูุถ
                        </button>
                    </div>

                    <div id="d_ai_suggestion" class="mt-2 p-4 bg-gray-50 border-r-4 border-purple-500 rounded-lg hidden">
                        <p class="font-bold text-purple-700">ููุชุฑุญุงุช ุชุดุฎูุตูุฉ:</p>
                        <p id="d_ai_suggestion_text" class="mt-2 text-gray-800"></p>
                    </div>
                    <div id="d_interactions_result" class="mt-2 p-4 bg-red-50 border-r-4 border-red-500 rounded-lg hidden">
                        <p class="font-bold text-red-700">ูุชุงุฆุฌ ุงููุญุต:</p>
                        <p id="d_interactions_text" class="mt-2 text-gray-800"></p>
                    </div>

                    <div id="d_radiology_reports_section" class="hidden mt-4">
                        <h3 class="text-xl font-bold text-indigo-700 mb-2">๐ ุชูุงุฑูุฑ ุงูุฃุดุนุฉ</h3>
                        <div id="d_radiology_reports_container" class="space-y-3 p-4 bg-gray-50 rounded-lg border">
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 pt-4">
                        <button id="d_finishBtn" class="w-full bg-green-500 text-white px-4 py-3 rounded-lg shadow hover:bg-green-600 transition-all duration-300 hidden">
                            โ ุชู ุงูุงูุชูุงุก
                        </button>
                    </div>

                    <div id="vitals-section" class="hidden">
                        <h3 class="text-xl font-bold text-blue-700 mt-2">๐ ุงููุคุดุฑุงุช ุงูุญูููุฉ</h3>
                        <canvas id="dChart" height="100"></canvas>
                        <h3 class="text-xl font-bold text-blue-700 mt-2">๐ ูุชุงุจุนุฉ ุงููุฑูุถ</h3>
                        <p class="mt-2 text-sm text-gray-500 font-semibold">ูุญุงูุงุฉ ุจุงุณุชุฎุฏุงู ุฌูุงุฒูุง</p>
                        <table class="w-full mt-2 border-collapse">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="border p-2">ุฑูู ุงูุบุฑูุฉ</th>
                                    <th class="border p-2">BP</th>
                                    <th class="border p-2">Oโ</th>
                                    <th class="border p-2">ุณูุฑ</th>
                                    <th class="border p-2">ุชูุจูู</th>
                                </tr>
                            </thead>
                            <tbody id="telemetry_table"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Doctor On Call -->
        <section id="doctorOnCall" class="tab hidden">
             <!-- Header -->
            <div id="doc_splash_screen" class="relative overflow-hidden bg-white rounded-2xl shadow p-8 mb-6 text-center animate-fadeIn">
                <!-- Background crosses -->
                <div class="absolute top-4 right-4 text-blue-100 text-3xl font-light">+</div>
                <div class="absolute top-10 right-16 text-blue-100 text-xl font-light">+</div>
                <div class="absolute bottom-4 left-4 text-blue-100 text-3xl font-light">+</div>
                <div class="absolute bottom-12 left-12 text-blue-100 text-xl font-light">+</div>

                <h1 class="text-4xl font-bold text-gray-400 tracking-wider">NEO CARE</h1>
                <div class="flex items-center justify-center my-4">
                     <h2 class="text-5xl font-bold text-blue-500">ุฏูุชูุฑ ูู ุฌูุจู</h2>
                     <!-- Stethoscope SVG -->
                     <svg class="w-16 h-16 text-gray-700 -ml-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M8 3.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
                        <path d="M19 3.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
                        <path d="M3 3.5h2.5"/>
                        <path d="M16 3.5h2.5"/>
                        <path d="M5.5 3.5v5.277c0 1.253.88 2.344 2.103 2.622l1.397.31c.42.093.858.093 1.278 0l1.397-.31c1.222-.278 2.102-1.369 2.102-2.622V3.5"/>
                        <circle cx="12" cy="18.5" r="3.5"/>
                     </svg>
                </div>
            </div>
             <!-- Form -->
            <div id="doc_form" class="bg-white rounded-2xl shadow-xl p-8 max-w-lg mx-auto animate-fadeIn" style="animation-delay: 200ms;">
                <div class="space-y-6">
                    <!-- Name Input -->
                    <div class="relative">
                        <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                             <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                        </span>
                        <input id="doc_name" placeholder="ุงูุงุณู ุจุงููุงูู" class="w-full border border-gray-300 p-3 pr-10 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 focus:outline-none transition-all duration-300">
                    </div>
                    <!-- Phone Input -->
                    <div class="relative">
                        <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        </span>
                        <input id="doc_phone" placeholder="ุฑูู ุงูุชููููู" type="tel" class="w-full border border-gray-300 p-3 pr-10 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 focus:outline-none transition-all duration-300">
                    </div>
                    <!-- Location Input -->
                    <div class="relative">
                         <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                             <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                         </span>
                        <input id="doc_location" placeholder="ุงููููุน ุงูุญุงูู (ุงุฎุชูุงุฑู)" class="w-full border border-gray-300 p-3 pr-10 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 focus:outline-none transition-all duration-300">
                    </div>
                    <button id="doc_submitBtn" class="w-full bg-gradient-to-r from-blue-500 to-teal-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-teal-600 transition-all duration-300 transform hover:-translate-y-1">
                        ุชุณุฌูู
                    </button>
                </div>
            </div>
<!-- New Options Section (Initially Hidden) -->
<div id="doc_options" class="hidden bg-white rounded-2xl shadow-xl p-8 max-w-lg mx-auto animate-fadeIn mt-6 text-center">
    <h3 id="doc_welcome_message" class="text-2xl font-bold text-gray-700 mb-6"></h3>
    <div class="space-y-4">
        <button id="skin_analyzer_btn" class="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <span>ูุงุญุต ุงูุดุงูุงุช ุงูุฐูู</span>
        </button>

        <button id="early_detection_btn" class="w-full bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <span>๐ฌ ูุงุดู ุงูุฃุนุฑุงุถ ุงููุจูุฑ</span>
        </button>

        <button id="doc_ai_btn" class="w-full bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
            <span>ุงุณุงู ุฏูุชูุฑ AI</span>
        </button>

        <button id="doc_reminder_btn" class="w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <span>ุชุฐููุฑ ุจุงูุฏูุงุก</span>
        </button>

        <button id="doc_booking_btn" class="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
            <span>ุญุฌุฒ ูู ูุณุชุดูู</span>
        </button>

        <!-- โ ุฒุฑ HEALTH CARE -->
        <a href="NEOCAREHEALH.HTML" target="_blank"
           class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2 transform hover:-translate-y-1 no-underline">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 8c-1.105 0-2 .895-2 2v2H8v2h2v2h2v-2h2v-2h-2v-2c0-.552.448-1 1-1h1V8h-1z"/>
            </svg>
            <span>๐ฅ HEALTH CARE</span>
        </a>
    </div>
</div>
            
            <!-- Early Detection Section (Initially Hidden) -->
            <div id="early_detection_container" class="hidden max-w-lg mx-auto animate-fadeIn">
                <div class="bg-white rounded-2xl shadow-xl flex flex-col h-[70vh]">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-700">ูุงุดู ุงูุฃุนุฑุงุถ ุงููุจูุฑ</h3>
                        <button id="detection_back_btn" class="text-gray-500 hover:text-gray-800 transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                    <!-- Form Content -->
                    <div id="detection_form" class="flex-1 p-6 space-y-4 overflow-y-auto">
                        <textarea id="detection_symptoms" rows="5" placeholder="ุตู ุงูุฃุนุฑุงุถ ุงูุชู ุชุดุนุฑ ุจูุง ุจุงูุชูุตูู ููุง... (ูุซุงู: ุตุฏุงุน ูุณุชูุฑ ูู ุฌุงูุจ ุงูุฑุฃุณุ ุตุนูุจุฉ ูู ุงูุชููุณ ุนูุฏ ุจุฐู ูุฌููุฏุ ุฃูู ูู ุงูุตุฏุฑ)" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"></textarea>
                        <input id="detection_age" type="number" placeholder="ุงูุนูุฑ" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                        <select id="detection_gender" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                            <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                            <option value="Male">ุฐูุฑ</option>
                            <option value="Female">ุฃูุซู</option>
                        </select>
                    </div>
                     <!-- Result Display -->
                    <div id="detection_result" class="flex-1 p-6 hidden flex-col items-center justify-center text-center">
                        <h4 class="text-lg font-bold text-gray-800 mb-2">ูุชุงุฆุฌ ุงูุชุญููู ุงูุฃูููุฉ</h4>
                        <div id="detection_risk_level" class="text-2xl font-bold p-2 rounded-lg mb-4"></div>
                        <p id="detection_explanation" class="text-gray-600"></p>
                        <p class="mt-4 text-sm text-red-600 font-bold">**ุชูุจูู: ูุฐู ุงููุชูุฌุฉ ูู ูุฌุฑุฏ ุชูุฏูุฑ ุฃููู ุจูุงุกู ุนูู ุงูุฃุนุฑุงุถ ููุง ุชุนุชุจุฑ ุชุดุฎูุตูุง ุทุจููุง. ูุฑุฌู ุงุณุชุดุงุฑุฉ ุทุจูุจ ูุฎุชุต.**</p>

                    </div>
                    <!-- Footer Button -->
                    <div class="p-4 border-t border-gray-200">
                        <button id="detection_analyze_btn" class="w-full bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                            ุชุญููู ุงูุฃุนุฑุงุถ
                        </button>
                    </div>
                </div>
            </div>
            
             <!-- Skin Analyzer Section (Initially Hidden) -->
            <div id="skin_analyzer_container" class="hidden max-w-lg mx-auto animate-fadeIn">
                <div class="bg-white rounded-2xl shadow-xl flex flex-col h-[75vh]">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-700">ูุงุญุต ุงูุดุงูุงุช ุงูุฐูู</h3>
                        <button id="skin_analyzer_back_btn" class="text-gray-500 hover:text-gray-800 transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                    <!-- Content -->
                    <div class="flex-1 p-6 space-y-4 overflow-y-auto">
                        <div id="skin_analyzer_upload_section">
                            <div class="bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center mb-4">
                                <svg class="w-12 h-12 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                <label for="skin_image_upload" class="mt-2 block text-sm font-semibold text-blue-600 hover:text-blue-800 cursor-pointer">
                                    ุงุฑูุน ุตูุฑุฉ ูุงุถุญุฉ ููุดุงูุฉ
                                    <input type="file" id="skin_image_upload" class="hidden" accept="image/jpeg, image/png">
                                </label>
                                <p class="text-xs text-gray-500 mt-1">ุชุฃูุฏ ูู ุฃู ุงูุฅุถุงุกุฉ ุฌูุฏุฉ ูุงูุตูุฑุฉ ุบูุฑ ุถุจุงุจูุฉ</p>
                            </div>
                            <img id="skin_image_preview" src="" alt="preview" class="hidden rounded-lg shadow-md w-full max-w-xs mx-auto mb-4">
                            <button id="skin_analyzer_analyze_btn" class="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50" disabled>
                                ุชุญููู ุงูุตูุฑุฉ
                            </button>
                        </div>
                        
                        <div id="skin_analyzer_result_section" class="hidden">
                             <div id="skin_risk_level" class="text-xl font-bold p-3 rounded-lg mb-4 text-center"></div>
                             <div class="bg-gray-100 p-4 rounded-lg">
                                 <h4 class="font-bold text-gray-800 mb-2">ููุฎุต ุชุญููู AI:</h4>
                                 <p id="skin_analysis_summary" class="text-sm text-gray-700"></p>
                             </div>
                             <div class="mt-4">
                                <h4 class="font-bold text-gray-800 mb-2">ุชูููู ุญุณุจ ูุงุนุฏุฉ ABCDE:</h4>
                                <div id="abcde_results" class="space-y-2 text-sm"></div>
                             </div>
                             <p class="mt-4 text-center text-red-600 font-bold border-2 border-red-500 p-2 rounded-lg">
                                **ุชูุจูู ูุงู ุฌุฏุงู:** ูุฐุง ุงูุชุญููู ูู ุฃุฏุงุฉ ูุณุงุนุฏุฉ ุฃูููุฉ ููุง ูุบูู ุฅุทูุงูุงู ุนู ุงููุดู ุงูุทุจู ูุฏู ุทุจูุจ ุฃูุฑุงุถ ุฌูุฏูุฉ ูุฎุชุต.
                             </p>
                        </div>

                    </div>
                </div>
            </div>


            <!-- AI Chat Section (Initially Hidden) -->
            <div id="ai_chat_container" class="hidden max-w-lg mx-auto animate-fadeIn">
                <div class="bg-white rounded-2xl shadow-xl flex flex-col h-[70vh]">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-700">ุงุณุฃู ุงูุทุจูุจ ุงูุฐูู</h3>
                        <button id="ai_chat_back_btn" class="text-gray-500 hover:text-gray-800 transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                    <!-- Messages -->
                    <div id="ai_chat_messages" class="flex-1 p-4 space-y-4 overflow-y-auto">
                        <!-- AI Welcome Message -->
                        <div class="flex justify-start">
                            <div class="bg-gray-200 text-gray-800 rounded-lg p-3 max-w-xs">
                                <p>ุฃููุงู ุจู! ุฃูุง ูุณุงุนุฏู ุงูุทุจู ุงูุฐูู. ูู ูุถูู ุตู ูู ูุดููุชู ุงูุตุญูุฉุ ูุณุฃุญุงูู ูุณุงุนุฏุชู. (ููุงุญุธุฉ: ูุฐู ููุณุช ูุตูุญุฉ ุทุจูุฉ ุญููููุฉ).</p>
                            </div>
                        </div>
                    </div>
                    <!-- Input -->
                    <div class="p-4 border-t border-gray-200">
                        <div class="relative">
                            <input id="ai_chat_input" type="text" placeholder="ุงูุชุจ ูุดููุชู ููุง..." class="w-full border border-gray-300 rounded-full p-3 pl-12 focus:ring-2 focus:ring-blue-400 focus:outline-none">
                            <button id="ai_chat_send_btn" class="absolute left-1 top-1/2 -translate-y-1/2 bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-blue-600 transition-colors">
                                <svg class="w-6 h-6 transform rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Medication Reminder Section (Initially Hidden) -->
            <div id="medication_reminder_container" class="hidden max-w-lg mx-auto animate-fadeIn">
                <div class="bg-white rounded-2xl shadow-xl flex flex-col h-[70vh]">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-700">ูููุธู ุงูุฃุฏููุฉ ุงูุฐูู</h3>
                        <button id="medication_back_btn" class="text-gray-500 hover:text-gray-800 transition-colors">
                             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                    <!-- Content -->
                    <div class="flex-1 p-4 overflow-y-auto">
                        <!-- PDF Upload -->
                        <div class="bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center mb-4">
                            <svg class="w-12 h-12 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                            <label for="pdf_upload_input" class="mt-2 block text-sm font-semibold text-blue-600 hover:text-blue-800 cursor-pointer">
                                ุงุฑูุน ุงูุฑูุดุชุฉ ุงูุทุจูุฉ (PDF)
                                <input type="file" id="pdf_upload_input" class="hidden" accept=".pdf">
                            </label>
                            <p class="text-xs text-gray-500 mt-1">ุณูููู ุงููุธุงู ุจุชุญููููุง ูู</p>
                        </div>

                        <div class="flex items-center my-4">
                            <div class="flex-grow border-t border-gray-300"></div>
                            <span class="flex-shrink mx-4 text-gray-500 text-sm">ุฃู</span>
                            <div class="flex-grow border-t border-gray-300"></div>
                        </div>
                        
                        <!-- Manual Input -->
                        <div class="mb-4">
                             <label for="manual_meds_input" class="block text-sm font-medium text-gray-700 mb-1">ุฃุฏุฎู ุงูุฃุฏููุฉ ูุฏููุงู (ูู ุฏูุงุก ูู ุณุทุฑ):</label>
                             <textarea id="manual_meds_input" rows="3" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300" placeholder="ุจูุงุฏูู&#x0a;ููุชุงููู ุณู&#x0a;..."></textarea>
                             <button id="process_manual_meds_btn" class="w-full mt-2 bg-gray-600 text-white font-bold px-4 py-2 rounded-lg shadow hover:bg-gray-700 transition-all duration-300">
                                ุฅุถุงูุฉ ุงูุฃุฏููุฉ
                             </button>
                        </div>
                        
                        <!-- Medications List -->
                        <div id="medications_list" class="space-y-3">
                            <!-- JS will populate this -->
                            <p id="meds_placeholder" class="text-center text-gray-500 py-8">ูู ุงูุชุธุงุฑ ุฑูุน ุงูุฑูุดุชุฉ ุฃู ุฅุฏุฎุงู ุงูุฃุฏููุฉ...</p>
                        </div>
                    </div>
                     <!-- Footer Buttons -->
                    <div class="p-4 border-t border-gray-200 grid grid-cols-2 gap-2">
                        <button id="simulate_reminder_btn" class="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                           ูุญุงูุงุฉ ุงูุชุฐููุฑ ๐
                        </button>
                        <button id="remind_me_btn" class="w-full bg-gradient-to-r from-blue-500 to-teal-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            ูู ุจุชุฐููุฑู โฐ
                        </button>
                    </div>
                </div>
            </div>

            <!-- Hospital Booking Section (Initially Hidden) -->
            <div id="hospital_booking_container" class="hidden max-w-lg mx-auto animate-fadeIn">
                <div class="bg-white rounded-2xl shadow-xl flex flex-col h-[70vh]">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-700">ุญุฌุฒ ููุนุฏ ูู ุงููุณุชุดูู</h3>
                        <button id="booking_back_btn" class="text-gray-500 hover:text-gray-800 transition-colors">
                             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                    <!-- Form Content -->
                    <div class="flex-1 p-6 space-y-4">
                        <select id="booking_department" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                            <!-- Options will be populated by JS -->
                        </select>
                        <input id="booking_name" placeholder="ุงูุงุณู ุจุงููุงูู" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                        <input id="booking_phone" type="tel" placeholder="ุฑูู ุงูุชููููู" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                    </div>
                    <!-- Footer Button -->
                    <div class="p-4 border-t border-gray-200">
                        <button id="booking_submit_btn" class="w-full bg-gradient-to-r from-blue-500 to-teal-500 text-white font-bold px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                            ุฅุฑุณุงู ุงูุทูุจ
                        </button>
                    </div>
                </div>
            </div>

        </section>

        <!-- Doctor File -->
        <section id="doctorFile" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ููู ุงูุทุจูุจ</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="df_doctorId" placeholder="ุฃุฏุฎู ุงููุนุฑู (ID) ููุทุจูุจ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <button id="df_loadProfileBtn" class="w-full bg-indigo-600 text-white px-4 py-3 rounded-lg shadow hover:bg-indigo-700 transition-all duration-300">
                    ๐ ุนุฑุถ ุงูููู
                </button>
                <div id="df_profileResult" class="hidden mt-4">
                    <h3 id="df_doctorName" class="text-xl font-bold text-gray-800 mb-2"></h3>
                    <table class="dashboard-table">
                        <thead class="bg-indigo-100">
                            <tr>
                                <th>ุฑูู ุงูุบุฑูุฉ</th>
                                <th>ุงุณู ุงููุฑูุถ</th>
                                <th>ููุน ุงูุญุงูุฉ</th>
                                <th>ุงูุญุงูุฉ</th>
                            </tr>
                        </thead>
                        <tbody id="df_casesTbody">
                            <!-- Rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Pharmacy -->
        <section id="pharmacy" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ุงูุตูุฏููุฉ</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="ph_room" placeholder="ุฃุฏุฎู ุฑูู ุงูุบุฑูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <button id="ph_loadBtn" class="w-full bg-green-600 text-white px-4 py-3 rounded-lg shadow hover:bg-green-700 transition-all duration-300">
                    ๐ ุนุฑุถ ุงููุตูุฉ ุงูุทุจูุฉ
                </button>
                <div id="ph_result" class="hidden mt-4 space-y-2">
                    <p><strong>ุงูุงุณู:</strong> <span id="ph_name"></span></p>
                    <p><strong>ุงูุฃุฏููุฉ ุงููุทููุจุฉ:</strong></p>
                    <div id="ph_newmeds" class="p-3 bg-gray-100 rounded-lg whitespace-pre-line"></div>
                    <button id="ph_dispenseBtn" class="w-full bg-blue-600 text-white px-4 py-3 rounded-lg shadow hover:bg-blue-700 transition-all duration-300">
                        ุตุฑู ุงูุฏูุงุก โ
                    </button>
                </div>
            </div>
        </section>

        <!-- Radiology Assistant -->
        <section id="radiology" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ฌ ูุณุงุนุฏ ุงูุฃุดุนุฉ ุงูุชุดุฎูุตู AI</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                     <input id="rad_room" placeholder="ุฃุฏุฎู ุฑูู ุบุฑูุฉ ุงููุฑูุถ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                     <select id="rad_model_select" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                        <option value="General">ุงุฎุชุฑ ูููุฐุฌ ุงูุชุญููู (Model)</option>
                        <option value="EfficientNet-B4">EfficientNet-B4 (ุงูุฃุดุนุฉ ุงูููุทุนูุฉ ูุงูุฑููู)</option>
                        <option value="DenseNet-121">DenseNet-121 (ุงูุฃุดุนุฉ ุงูุณูููุฉ ููุตุฏุฑ)</option>
                        <option value="General">ุงููููุฐุฌ ุงูุนุงู (ูุฌููุน ุงูุญุงูุงุช)</option>
                     </select>
                </div>
                 <input id="rad_scan_type" placeholder="ููุน ุงูุฃุดุนุฉ (X-ray, CT, MRI, etc.)" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                 <input id="rad_body_part" placeholder="ุงูุฌุฒุก ุงููุตูุฑ ูู ุงูุฌุณู (e.g., Chest, Brain, Left Knee)" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                 <textarea id="rad_clinical_history" placeholder="ุงูุชุงุฑูุฎ ุงููุฑุถู ุงููุฎุชุตุฑ ูุณุจุจ ุงูุทูุจ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300" rows="2"></textarea>
                <div>
                    <label for="rad_image_upload" class="block mb-2 text-sm font-medium text-gray-900">ุงุฑูุน ุตูุฑุฉ ุงูุฃุดุนุฉ (JPG, PNG)</label>
                    <input type="file" id="rad_image_upload" accept="image/jpeg, image/png" class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none">
                </div>
                <button id="rad_analyze_btn" class="w-full bg-indigo-600 text-white px-4 py-3 rounded-lg shadow hover:bg-indigo-700 transition-all duration-300">
                    ๐ค ุชุญููู ุงูุตูุฑุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
                </button>
                <div id="rad_result_container" class="hidden mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                    <div>
                        <h3 class="font-bold text-lg mb-2">ุงูุตูุฑุฉ ุงููุฑููุนุฉ:</h3>
                        <img id="rad_image_preview" src="" alt="Preview" class="rounded-lg shadow-md w-full">
                    </div>
                    <div class="p-4 bg-gray-50 border-r-4 border-indigo-500 rounded-lg">
                        <h3 class="font-bold text-lg text-indigo-700 mb-2">ูุชุงุฆุฌ ุงูุชุญููู ุงูุฃูููุฉ:</h3>
                        <div id="rad_model_used" class="text-sm text-gray-500 mb-2"></div>
                        <div id="rad_confidence_section" class="mb-3 hidden">
                            <p class="font-semibold text-gray-800">ูุณุชูู ุงูุซูุฉ (Confidence):</p>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div id="rad_confidence_bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                            </div>
                            <p id="rad_confidence_text" class="text-right text-sm font-bold text-blue-700"></p>
                        </div>
                        <p id="rad_analysis_text" class="text-gray-800 whitespace-pre-line"></p>
                        <button id="rad_save_report_btn" class="hidden mt-4 w-full bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 transition-all duration-300">
                            ๐พ ุญูุธ ูุฅุฑุณุงู ุงูุชูุฑูุฑ ููุทุจูุจ
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Appointments -->
        <section id="appointments" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ุงูุญุงูุงุช ุงูุฌุฏูุฏุฉ ูุงูููุงุนูุฏ</h2>
            <div class="bg-white rounded-2xl shadow p-6">
                <p class="text-gray-600 mb-4">ูุงุฆูุฉ ุจุงูุญุงูุงุช ุงูุฌุฏูุฏุฉ ุงูุชู ุชู ุญุฌุฒูุง ูุชุชุทูุจ ุงููุชุงุจุนุฉ.</p>
                <div class="overflow-x-auto">
                    <table class="dashboard-table">
                        <thead class="bg-green-100">
                            <tr>
                                <th>ุงุณู ุงูุญุงูุฉ (ุงููุฑูุถ)</th>
                                <th>ููุน ุงูุญุงูุฉ (ุงูุชุฎุตุต)</th>
                                <th>ุงูุทุจูุจ ุงููุณุคูู</th>
                                <th>ุฅุฌุฑุงุก</th>
                            </tr>
                        </thead>
                        <tbody id="appointments_cases_tbody">
                            <!-- JS will populate this -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Billing and Insurance -->
        <section id="billing" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ณ ุงูููุงุชูุฑ ูุงูุชุฃููู</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="b_room" placeholder="ุฃุฏุฎู ุฑูู ุงูุบุฑูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <button id="b_loadBtn" class="w-full bg-green-600 text-white px-4 py-3 rounded-lg shadow hover:bg-green-700 transition-all duration-300">
                    ๐ ุนุฑุถ ุงููุงุชูุฑุฉ
                </button>
                <div id="b_result" class="hidden mt-4 space-y-2">
                    <p><strong>ุงูุงุณู:</strong> <span id="b_name"></span></p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="bg-red-100 p-3 rounded-lg">
                            <p class="font-bold text-red-700">ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ</p>
                            <p id="b_total_cost" class="text-xl font-mono"></p>
                        </div>
                        <div class="bg-yellow-100 p-3 rounded-lg">
                            <p class="font-bold text-yellow-700">ุชุบุทูุฉ ุงูุชุฃููู</p>
                            <p id="b_insurance_coverage" class="text-xl font-mono"></p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-lg">
                            <p class="font-bold text-green-700">ุงููุจูุบ ุงููุณุชุญู</p>
                            <p id="b_amount_due" class="text-xl font-mono"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Patient -->
        <section id="patient" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ค ุงููุฑูุถ</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <input id="p_room" placeholder="ุฃุฏุฎู ุฑูู ุงูุบุฑูุฉ" class="w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300">
                <button id="p_loadBtn" class="w-full bg-teal-600 text-white px-4 py-3 rounded-lg shadow hover:bg-teal-700 transition-all duration-300">
                    ๐ ุนุฑุถ ุจูุงูุงุชู
                </button>
                <div id="p_result" class="hidden mt-4 space-y-2">
                    <p><strong>ุงูุงุณู:</strong> <span id="p_name"></span></p>
                    <p><strong>ุงูุชุดุฎูุต:</strong> <span id="p_diag"></span></p>
                    <p><strong>ุงูุฃุฏููุฉ ุงูุญุงููุฉ:</strong> <span id="p_newmeds"></span></p>
                    
                    <div id="p_radiology_reports_section" class="hidden mt-4">
                        <h3 class="text-xl font-bold text-indigo-700 mb-2">๐ ุชูุงุฑูุฑ ุงูุฃุดุนุฉ ุงูุฎุงุตุฉ ุจู</h3>
                        <div id="p_radiology_reports_container" class="space-y-3 p-4 bg-gray-50 rounded-lg border">
                            <!-- Reports will be dynamically inserted here -->
                        </div>
                    </div>
                    
                    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2">
                        <button id="p_explain_meds_btn" class="w-full bg-indigo-600 text-white px-4 py-3 rounded-lg shadow hover:bg-indigo-700 transition-all duration-300">
                            โจ ุดุฑุญ ุญุงูุชู
                        </button>
                        <button id="p_meds_instructions_btn" class="w-full bg-purple-600 text-white px-4 py-3 rounded-lg shadow hover:bg-purple-700 transition-all duration-300">
                            โจ ุชุนูููุงุช ุงูุฃุฏููุฉ
                        </button>
                    </div>

                    <button id="p_download_pdf_btn" class="w-full bg-red-600 text-white px-4 py-3 rounded-lg shadow hover:bg-red-700 transition-all duration-300 mt-2">
                        โฌ ุชูุฒูู PDF
                    </button>
                    <div id="p_ai_explanation" class="mt-2 p-4 bg-gray-50 border-r-4 border-indigo-500 rounded-lg hidden">
                        <p class="font-bold text-indigo-700">ุดุฑุญ ูุจุณุท:</p>
                        <p id="p_ai_explanation_text" class="mt-2 text-gray-800"></p>
                    </div>
                    <div id="p_meds_instructions" class="mt-2 p-4 bg-gray-50 border-r-4 border-purple-500 rounded-lg hidden">
                        <p class="font-bold text-purple-700">ุชุนูููุงุช ุงูุฃุฏููุฉ:</p>
                        <p id="p_meds_instructions_text" class="mt-2 text-gray-800 whitespace-pre-line"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI / Admin -->
        <section id="ai" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ค ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุฅุฏุงุฑู</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <h3 class="text-xl font-bold text-blue-700">๐ ุฅุญุตุงุฆูุงุช ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ</h3>
                <canvas id="adminStatsChart" height="150"></canvas>
                
                <h3 class="text-xl font-bold text-blue-700 mt-4">๐ก ุชูุตูุงุช ุฅุฏุงุฑูุฉ ุฐููุฉ</h3>
                <div id="admin-recommendations" class="p-4 bg-blue-50 border-r-4 border-blue-500 rounded-lg flex items-center space-x-2">
                    <span id="recommendation-icon" class="text-2xl"></span>
                    <p id="recommendation-text" class="text-gray-800 font-semibold"></p>
                </div>
            </div>
        </section>

        <!-- Dashboard -->
        <section id="dashboard" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ููุญุฉ ุงูุชุญูู</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-4">
                <table class="dashboard-table mb-4 rounded-xl shadow-md overflow-hidden">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th>ุงููุคุดุฑ</th>
                            <th>ุงููููุฉ</th>
                            <th>ุงูุญุงูุฉ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ุฅุฌูุงูู ุงููุฑุถู</td>
                            <td id="table-total-patients">0</td>
                            <td class="text-green-600 font-semibold">ุทุจูุนู</td>
                        </tr>
                        <tr>
                            <td>ุงูุญุงูุงุช ุงูุญุฑุฌุฉ</td>
                            <td id="table-critical-patients">0</td>
                            <td class="text-yellow-600 font-semibold">ูุฑุงูุจุฉ</td>
                        </tr>
                         <tr>
                            <td>ุญุงูุงุช ุฌุฑุงุญุฉ</td>
                            <td id="table-surgery-cases">0</td>
                            <td class="text-blue-600 font-semibold">ูุณุชูุฑ</td>
                        </tr>
                        <tr>
                            <td>ุชูุจููุงุช ุญุฑุฌุฉ</td>
                            <td id="table-total-alerts">0</td>
                            <td class="text-red-600 font-semibold">ุชูุจูู!</td>
                        </tr>
                    </tbody>
                </table>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="bg-blue-100 p-4 rounded-lg shadow-inner">
                        <h4 class="text-lg font-bold text-blue-700">ุฅุฌูุงูู ุงููุฑุถู</h4>
                        <p id="total-patients" class="text-3xl font-bold text-blue-600 mt-2">0</p>
                    </div>
                    <div class="bg-yellow-100 p-4 rounded-lg shadow-inner">
                        <h4 class="text-lg font-bold text-yellow-700">ุงูุญุงูุงุช ุงูุญุฑุฌุฉ</h4>
                        <p id="critical-patients" class="text-3xl font-bold text-yellow-600 mt-2">0</p>
                    </div>
                    <div class="bg-red-100 p-4 rounded-lg shadow-inner">
                        <h4 class="text-lg font-bold text-red-700">ุชูุจููุงุช</h4>
                        <p id="total-alerts" class="text-3xl font-bold text-red-600 mt-2">0</p>
                    </div>
                </div>
                <button id="simulate-critical-btn" class="w-full bg-red-600 text-white px-4 py-3 rounded-lg shadow-lg hover:bg-red-700 transition-all duration-300">
                    ูุญุงูุงุฉ ุญุงูุฉ ุญุฑุฌุฉ ๐ด
                </button>
            </div>
        </section>

        <!-- Wait Times -->
    <div id="waitTimes" class="tab hidden">
            <h2 class="text-2xl font-bold text-blue-700 mb-4">๐ ููุญุฉ ูุชุงุจุนุฉ ุฃููุงุช ุงูุงูุชุธุงุฑ</h2>
            <div class="bg-white rounded-2xl shadow p-6 space-y-6">
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ุงุฒุฏุญุงู ุงูุฃูุณุงู ุญุงููุงู</h3>
                    <canvas id="waitTimesChart" height="120"></canvas>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ุชูุงุตูู ุงูุงูุชุธุงุฑ</h3>
                    <div class="overflow-x-auto">
                        <table class="dashboard-table">
                            <thead class="bg-orange-100">
                                <tr>
                                    <th>ุงููุณู</th>
                                    <th>ุนุฏุฏ ุงูููุชุธุฑูู</th>
                                    <th>ูุชูุณุท ููุช ุงูุงูุชุธุงุฑ (ุฏูููุฉ)</th>
                                    <th>ุงูุญุงูุฉ</th>
                                </tr>
                            </thead>
                            <tbody id="wait_times_tbody">
                                <!-- JS will populate this -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <script type="module" src="../Js/Master.js"></script>
    <script src="../Js/login System.js"></script>
</body>
</html>

